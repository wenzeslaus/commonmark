




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <meta name="description" content="Guide to upgrading to newer versions of this library">
    
    <meta name="docsearch:version" content="2.0">
    
        <title>Upgrading from 1.5 to 2.0 - CommonMark for PHP</title>
    
    <link rel="icon" type="image/x-icon" href="//theme.thephpleague.com/img/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="//theme.thephpleague.com/img/apple-touch-icon-precomposed.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@thephpleague" />
    <meta name="twitter:creator" content="@colinodell" />
    <meta property="og:url" content="https://commonmark.thephpleague.com/2.0/upgrading/" />
    
        <meta property="og:title" content="Upgrading from 1.5 to 2.0 - CommonMark for PHP" />
    
    
        <meta property="og:description" content="Guide to upgrading to newer versions of this library" />
    
    <meta property="og:image" content="https://commonmark.thephpleague.com/images/commonmark-social.png" />
    <link rel="stylesheet" href="//theme.thephpleague.com/css/all.css?53d99fafeab948b56c834345c1d3aa6b4bc905f3">
    <link rel="stylesheet" href="/custom.css?53d99fafeab948b56c834345c1d3aa6b4bc905f3">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <link rel="stylesheet" href="/support.css?53d99fafeab948b56c834345c1d3aa6b4bc905f3">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=" crossorigin="anonymous" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-137970568-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-137970568-1');
    </script>
</head>
<body>
<header>
    <div class="header-content">
        <h1 class="title">
            <a class="logo" href="/">
            <span class="name">
                <em>League\</em>CommonMark
            </span>
            </a>
        </h1>
        <div class="search"><input type="search" id="doc-search" placeholder="search the docs..."></div>
        <nav class="versions">
            <h2>v2.0 &#9662;</h2>
            <ul>
            
                <li class="selected"><a href="/2.0/upgrading/">v2.0</a></li>
            
                <li ><a href="/1.5/upgrading/">v1.5</a></li>
            
                <li ><a href="/1.4/upgrading/">v1.4</a></li>
            
                <li ><a href="/1.3/upgrading/">v1.3</a></li>
            
                <li ><a href="/1.0/upgrading/">v1.0</a></li>
            
                <li ><a href="/0.19/upgrading/">v0.19</a></li>
            
                <li ><a href="/releases/">Notes</a></li>
            </ul>
        </nav>
    </div>
</header>

<input type="checkbox" id="menu">
<label for="menu" onclick>
    <div class="closed">&#9776;</div>
    <div class="open">&#10799;</div>
</label>

<main>
    <menu>
        <div class="versions-small">
        <h2>Versions</h2>
            <ul>
        
                <li class="selected">
                    <a href="/2.0/">2.0</a>
                </li>
        
                <li >
                    <a href="/1.5/">1.5</a>
                </li>
        
                <li >
                    <a href="/1.4/">1.4</a>
                </li>
        
                <li >
                    <a href="/1.3/">1.3</a>
                </li>
        
                <li >
                    <a href="/1.0/">1.0</a>
                </li>
        
                <li >
                    <a href="/0.19/">0.19</a>
                </li>
        
                <li ><a href="/releases/">Releases Notes</a></li>
            </ul>
        </div>

        
            
            <div class="menu-section">
                <h2>Getting Started</h2>
                <ul>
                    
                        <li >
                            <a href="/2.0/">Overview</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/installation/">Installation</a>
                        </li>
                    
                        <li class="selected">
                            <a href="/2.0/upgrading/">Upgrading from 1.5</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/changelog/">Changelog</a>
                        </li>
                    
                </ul>
            </div>
            
            <div class="menu-section">
                <h2>Usage</h2>
                <ul>
                    
                        <li >
                            <a href="/2.0/basic-usage/">Basic Usage</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/configuration/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/security/">Security</a>
                        </li>
                    
                </ul>
            </div>
            
            <div class="menu-section">
                <h2>Extensions</h2>
                <ul>
                    
                        <li >
                            <a href="/2.0/extensions/overview/">Overview</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/commonmark/">CommonMark</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/github-flavored-markdown/">Github-Flavored Markdown</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/attributes/">Attributes</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/autolinks/">Autolinks</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/disallowed-raw-html/">Disallowed Raw HTML</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/external-links/">External Links</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/footnotes/">Footnotes</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/heading-permalinks/">Heading Permalinks</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/inlines-only/">Inlines Only</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/mentions/">Mentions</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/smart-punctuation/">Smart Punctuation</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/strikethrough/">Strikethrough</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/tables/">Tables</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/extensions/task-lists/">Task Lists</a>
                        </li>
                    
                </ul>
            </div>
            
            <div class="menu-section">
                <h2>Customization</h2>
                <ul>
                    
                        <li >
                            <a href="/2.0/customization/overview/">Overview</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/environment/">Environment</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/extensions/">Extensions</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/event-dispatcher/">Event Dispatcher</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/cursor/">Cursor</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/block-parsing/">Block Parsing</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/inline-parsing/">Inline Parsing</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/delimiter-processing/">Delimiter Processing</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/abstract-syntax-tree/">Abstract Syntax Tree</a>
                        </li>
                    
                        <li >
                            <a href="/2.0/customization/rendering/">Rendering</a>
                        </li>
                    
                </ul>
            </div>
            
        
    </menu>
    <article>
    
        <p class="message-notice">This is the documentation for the upcoming <code>version 2.0</code>. This is a work in progress</p>
    

    

    

        <h1 id="upgrading-from-15-to-20">Upgrading from 1.5 to 2.0</h1>

<h2 id="minimum-php-version">Minimum PHP Version</h2>

<p>The minimum supported PHP version was increased from 7.1 to 7.2.</p>

<h2 id="method-return-types">Method Return Types</h2>

<p>Return types have been added to virtually all class and interface methods.  If you implement or extend anything from this library, ensure you also have the proper return types added.</p>

<h2 id="classesnamespaces-renamed">Classes/Namespaces Renamed</h2>

<p>Many classes now live in different namespaces, and some have also been renamed.  Here’s a quick guide showing their new locations:</p>

<p><em>(Note that the base namespace of <code class="highlighter-rouge">League\CommonMark</code> has been omitted from this table for brevity.)</em></p>

<table>
  <thead>
    <tr>
      <th>Old Class Namespace/Name (1.x)</th>
      <th>New Class Namespace/Name (2.0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Util\ConfigurationAwareInterface</code></td>
      <td><code class="highlighter-rouge">Configuration\ConfigurationAwareInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Util\ConfigurationInterface</code></td>
      <td><code class="highlighter-rouge">Configuration\ConfigurationInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Util\Configuration</code></td>
      <td><code class="highlighter-rouge">Configuration\Configuration</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ConfigurableEnvironmentInterface</code></td>
      <td><code class="highlighter-rouge">Environment\ConfigurableEnvironmentInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EnvironmentAwareInterface</code></td>
      <td><code class="highlighter-rouge">Environment\EnvironmentAwareInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Environment</code></td>
      <td><code class="highlighter-rouge">Environment\Environment</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EnvironmentInterface</code></td>
      <td><code class="highlighter-rouge">Environment\EnvironmentInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Extension\CommonMarkCoreExtension</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\CommonMarkCoreExtension</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Delimiter\Processor\EmphasisDelimiterProcessor</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Delimiter\Processor\EmphasisDelimiterProcessor</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\BlockQuote</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\BlockQuote</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\FencedCode</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\FencedCode</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\Heading</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\Heading</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\HtmlBlock</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\HtmlBlock</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\IndentedCode</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\IndentedCode</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\ListBlock</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\ListBlock</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\ListData</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\ListData</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\ListItem</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\ListItem</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\ThematicBreak</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Block\ThematicBreak</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\AbstractWebResource</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Inline\AbstractWebResource</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\Code</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Inline\Code</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\Emphasis</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Inline\Emphasis</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\HtmlInline</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Inline\HtmlInline</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\Image</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Inline\Image</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\Link</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Inline\Link</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\Strong</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Node\Inline\Strong</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\BlockQuoteParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Block\BlockQuoteParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\FencedCodeParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Block\FencedCodeParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\ATXHeadingParser</code> and <code class="highlighter-rouge">Block\Parser\SetExtHeadingParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Block\HeadingParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\HtmlBlockParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Block\HtmlBlockParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\IndentedCodeParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Block\IndentedCodeParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\ListParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Block\ListParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\ThematicBreakParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Block\ThematicBreakParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\AutolinkParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\AutolinkParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\BacktickParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\BacktickParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\BangParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\BangParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\CloseBracketParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\CloseBracketParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\EntityParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\EntityParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\EscapableParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\EscapableParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\HtmlInlineParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\HtmlInlineParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\OpenBracketParser</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Parser\Inline\OpenBracketParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\BlockQuoteRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\BlockQuoteRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\FencedCodeRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\FencedCodeRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\HeadingRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\HeadingRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\HtmlBlockRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\HtmlBlockRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\IndentedCodeRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\IndentedCodeRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\ListBlockRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\ListBlockRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\ListItemRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\ListItemRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\ThematicBreakRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Block\ThematicBreakRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\CodeRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Inline\CodeRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\EmphasisRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Inline\EmphasisRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\HtmlInlineRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Inline\HtmlInlineRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\ImageRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Inline\ImageRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\LinkRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Inline\LinkRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\StrongRenderer</code></td>
      <td><code class="highlighter-rouge">Extension\CommonMark\Renderer\Inline\StrongRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Extension\TableOfContents\TableOfContents</code></td>
      <td><code class="highlighter-rouge">Extension\TableOfContents\Node\TableOfContents</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\AbstractBlock</code></td>
      <td><code class="highlighter-rouge">Node\Block\AbstractBlock</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\Document</code></td>
      <td><code class="highlighter-rouge">Node\Block\Document</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\InlineContainerInterface</code></td>
      <td><code class="highlighter-rouge">Node\Block\InlineContainerInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\Paragraph</code></td>
      <td><code class="highlighter-rouge">Node\Block\Paragraph</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Element\StringContainerInterface</code></td>
      <td><code class="highlighter-rouge">Node\StringContainerInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\AbstractInline</code></td>
      <td><code class="highlighter-rouge">Node\Inline\AbstractInline</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\AbstractStringContainer</code></td>
      <td><code class="highlighter-rouge">Node\Inline\AbstractStringContainer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\AdjacentTextMerger</code></td>
      <td><code class="highlighter-rouge">Node\Inline\AdjacentTextMerger</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\Newline</code></td>
      <td><code class="highlighter-rouge">Node\Inline\Newline</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Element\Text</code></td>
      <td><code class="highlighter-rouge">Node\Inline\Text</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\BlockParserInterface</code></td>
      <td><code class="highlighter-rouge">Parser\Block\BlockContinueParserInterface</code> and <code class="highlighter-rouge">Parser\Block\BlockStartParserInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Parser\LazyParagraphParser</code></td>
      <td><code class="highlighter-rouge">Parser\Block\ParagraphParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Cursor</code></td>
      <td><code class="highlighter-rouge">Parser\Cursor</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DocParser</code></td>
      <td><code class="highlighter-rouge">Parser\MarkdownParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DocParserInterface</code></td>
      <td><code class="highlighter-rouge">Parser\MarkdownParserInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\InlineParserInterface</code></td>
      <td><code class="highlighter-rouge">Parser\Inline\InlineParserInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Parser\NewlineParser</code></td>
      <td><code class="highlighter-rouge">Parser\Inline\NewlineParser</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">InlineParserContext</code></td>
      <td><code class="highlighter-rouge">Parser\InlineParserContext</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">InlineParserEngine</code></td>
      <td><code class="highlighter-rouge">Parser\InlineParserEngine</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\DocumentRenderer</code></td>
      <td><code class="highlighter-rouge">Renderer\Block\DocumentRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\ParagraphRenderer</code></td>
      <td><code class="highlighter-rouge">Renderer\Block\ParagraphRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">HtmlRenderer</code></td>
      <td><code class="highlighter-rouge">Renderer\HtmlRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ElementRendererInterface</code></td>
      <td><code class="highlighter-rouge">Renderer\HtmlRendererInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\NewlineRenderer</code></td>
      <td><code class="highlighter-rouge">Renderer\Inline\NewlineRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Inline\Renderer\TextRenderer</code></td>
      <td><code class="highlighter-rouge">Renderer\Inline\TextRenderer</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Block\Renderer\BlockRendererInterface</code> and <code class="highlighter-rouge">Inline\Renderer\InlineRendererInterface</code></td>
      <td><code class="highlighter-rouge">Renderer\NodeRendererInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">HtmlElement</code></td>
      <td><code class="highlighter-rouge">Util\HtmlElement</code></td>
    </tr>
  </tbody>
</table>

<h2 id="new-block-parsing-approach">New Block Parsing Approach</h2>

<p>We’ve completely changed how block parsing works in 2.0.  In a nutshell, 1.x had parsing responsibilities split between
the parser and the node. But nodes should be “dumb” and not know anything about how they are parsed - they should only
know the bare minimum needed for rendering.</p>

<p>As a result, 2.x has delegated the parsing responsibilities to two different interfaces:</p>

<table>
  <thead>
    <tr>
      <th>Responsibility</th>
      <th>Old Method (1.x)</th>
      <th>New Method (2.0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Identifying the start of a block</td>
      <td><code class="highlighter-rouge">BlockParserInterface::parse()</code></td>
      <td><code class="highlighter-rouge">BlockStartParserInterface::tryStart()</code></td>
    </tr>
    <tr>
      <td>Instantiating and configuring the new block</td>
      <td><code class="highlighter-rouge">BlockParserInterface::parse()</code></td>
      <td><code class="highlighter-rouge">BlockContinueParserInterface::__construct()</code></td>
    </tr>
    <tr>
      <td>Determining if the block acts as a container</td>
      <td><code class="highlighter-rouge">AbstractBlock::isContainer()</code></td>
      <td><code class="highlighter-rouge">BlockContinueParserInterface::isContainer()</code></td>
    </tr>
    <tr>
      <td>Determining if the block can have lazy continuation lines</td>
      <td><code class="highlighter-rouge">AbstractBlock::isCode()</code></td>
      <td><code class="highlighter-rouge">BlockContinueParserInterface::canHaveLazyContinuationLines()</code></td>
    </tr>
    <tr>
      <td>Determining if the block can contain certain child blocks</td>
      <td><code class="highlighter-rouge">AbstractBlock::canContain()</code></td>
      <td><code class="highlighter-rouge">BlockContinueParserInterface::canContain()</code></td>
    </tr>
    <tr>
      <td>Determining if the block continues on the next line</td>
      <td><code class="highlighter-rouge">AbstractBlock::matchesNextLine()</code></td>
      <td><code class="highlighter-rouge">BlockContinueParserInterface::tryContinue()</code></td>
    </tr>
    <tr>
      <td>Adding the next line to the block</td>
      <td><code class="highlighter-rouge">AbstractBlock::handleRemainingContents()</code></td>
      <td><code class="highlighter-rouge">BlockContinueParserInterface::addLine()</code></td>
    </tr>
    <tr>
      <td>Finalizing the block and its contents</td>
      <td><code class="highlighter-rouge">AbstractBlock::finalize()</code></td>
      <td><code class="highlighter-rouge">BlockContinueParserInterface::closeBlock()</code></td>
    </tr>
  </tbody>
</table>

<p>As a result of making this change, the <code class="highlighter-rouge">addBlockParser()</code> method on <code class="highlighter-rouge">ConfigurableEnvironmentInterface</code> has changed to <code class="highlighter-rouge">addBlockStartParser()</code>.</p>

<p>See <a href="/2.0/customization/block-parsing/">the block parsing documentation</a> for more information on this new approach.</p>

<h2 id="rendering-changes">Rendering Changes</h2>

<p>This library no longer differentiates between block renderers and inline renderers - everything now uses “node renderers” which allow us to have a unified approach to rendering!  As a result, the following changes were made, which you may need to change in your custom extensions:</p>

<table>
  <thead>
    <tr>
      <th>Old Method/Interface (1.x)</th>
      <th>New Method/Interface (2.0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">BlockRendererInterface</code></td>
      <td><code class="highlighter-rouge">NodeRendererInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">InlineRendererInterface</code></td>
      <td><code class="highlighter-rouge">NodeRendererInterface</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EnvironmentInterface::getBlockRenderersForClass()</code></td>
      <td><code class="highlighter-rouge">EnvironmentInterface::getRenderersForClass()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EnvironmentInterface::getInlineRenderersForClass()</code></td>
      <td><code class="highlighter-rouge">EnvironmentInterface::getRenderersForClass()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ConfigurableEnvironmentInterface::addBlockRenderer()</code></td>
      <td><code class="highlighter-rouge">ConfigurableEnvironmentInterface::addRenderer()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ConfigurableEnvironmentInterface::addInlineRenderer()</code></td>
      <td><code class="highlighter-rouge">ConfigurableEnvironmentInterface::addRenderer()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ElementRendererInterface::renderBlock()</code></td>
      <td><code class="highlighter-rouge">ChildNodeRendererInterface::renderNodes()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ElementRendererInterface::renderBlocks()</code></td>
      <td><code class="highlighter-rouge">ChildNodeRendererInterface::renderNodes()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ElementRendererInterface::renderInline()</code></td>
      <td><code class="highlighter-rouge">ChildNodeRendererInterface::renderNodes()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ElementRendererInterface::renderInlines()</code></td>
      <td><code class="highlighter-rouge">ChildNodeRendererInterface::renderNodes()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">HtmlRenderer::renderBlock($document)</code></td>
      <td><code class="highlighter-rouge">HtmlRenderer::renderDocument()</code></td>
    </tr>
  </tbody>
</table>

<p>Renderers now implement the unified <code class="highlighter-rouge">NodeRendererInterface</code> which has a similar (but slightly different) signature from
the old <code class="highlighter-rouge">BlockRendererInterface</code> and <code class="highlighter-rouge">InlineRendererInterface</code> interfaces:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cd">/**
 * @param Node                       $node
 * @param ChildNodeRendererInterface $childRenderer
 *
 * @return HtmlElement|string|null
 */</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">render</span><span class="p">(</span><span class="nx">Node</span> <span class="nv">$node</span><span class="p">,</span> <span class="nx">ChildNodeRendererInterface</span> <span class="nv">$childRenderer</span><span class="p">);</span>
</code></pre></div></div>

<p>The element being rendered is still passed in the first argument, and the object that helps you render children is still
passed in the second argument.  Note that blocks are no longer told whether they’re being rendered in a tight list - if you
need to know about this, traverse up the <code class="highlighter-rouge">$node</code> AST yourself and check any <code class="highlighter-rouge">ListBlock</code> ancestor for tightness.</p>

<h2 id="removed-classes">Removed Classes</h2>

<p>The following classes have been removed:</p>

<table>
  <thead>
    <tr>
      <th>Class name in 1.x</th>
      <th>Replacement / Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">AbstractStringContainerBlock</code></td>
      <td>Use <code class="highlighter-rouge">extends AbstractBlock implements StringContainerInterface</code> instead. Note the new method names.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Context</code></td>
      <td>Use <code class="highlighter-rouge">MarkdownParserState</code> instead (has different methods but serves a similar purpose)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ContextInterface</code></td>
      <td>Use <code class="highlighter-rouge">MarkdownParserStateInterface</code> instead (has different methods but serves a similar purpose)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">Converter</code></td>
      <td>Use <code class="highlighter-rouge">CommonMarkConverter</code> instead. Note that this has a different constructor but the same methods.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ConverterInterface</code></td>
      <td>Use <code class="highlighter-rouge">MarkdownConverterInterface</code>.  This interface has the same methods so it should be a drop-in replacement.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">UnmatchedBlockCloser</code></td>
      <td>No longer needed 2.x</td>
    </tr>
  </tbody>
</table>

<h2 id="environmentinterfacehtml_input_-constants-moved"><code class="highlighter-rouge">EnvironmentInterface::HTML_INPUT_*</code> constants moved</h2>

<p>The following constants have been moved:</p>

<table>
  <thead>
    <tr>
      <th>Old Location (1.x)</th>
      <th>New Location (2.0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">EnvironmentInterface::HTML_INPUT_ALLOW</code></td>
      <td><code class="highlighter-rouge">HtmlFilter::ALLOW</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EnvironmentInterface::HTML_INPUT_ESCAPE</code></td>
      <td><code class="highlighter-rouge">HtmlFilter::ESCAPE</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">EnvironmentInterface::HTML_INPUT_STRIP</code></td>
      <td><code class="highlighter-rouge">HtmlFilter::STRIP</code></td>
    </tr>
  </tbody>
</table>

<h2 id="renamed-methods">Renamed Methods</h2>

<p>The following methods have been renamed:</p>

<table>
  <thead>
    <tr>
      <th>Class</th>
      <th>Old Name (1.x)</th>
      <th>New Name (2.0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">Environment</code> / <code class="highlighter-rouge">ConfigurableEnvironmentInterface</code></td>
      <td><code class="highlighter-rouge">addBlockParser()</code></td>
      <td><code class="highlighter-rouge">addBlockStartParser()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReferenceMap</code> / <code class="highlighter-rouge">ReferenceMapInterface</code></td>
      <td><code class="highlighter-rouge">addReference()</code></td>
      <td><code class="highlighter-rouge">add()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReferenceMap</code> / <code class="highlighter-rouge">ReferenceMapInterface</code></td>
      <td><code class="highlighter-rouge">getReference()</code></td>
      <td><code class="highlighter-rouge">get()</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ReferenceMap</code> / <code class="highlighter-rouge">ReferenceMapInterface</code></td>
      <td><code class="highlighter-rouge">listReferences()</code></td>
      <td><code class="highlighter-rouge">getIterator()</code></td>
    </tr>
  </tbody>
</table>

<h2 id="visibility-changes">Visibility Changes</h2>

<p>The following properties have had their visibility changed:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Was (1.x)</th>
      <th>Is Now (2.0)</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">TableCell::$align</code></td>
      <td><code class="highlighter-rouge">public</code></td>
      <td><code class="highlighter-rouge">private</code></td>
      <td>Use <code class="highlighter-rouge">getAlign()</code> and <code class="highlighter-rouge">setAlign()</code> instead</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TableCell::$type</code></td>
      <td><code class="highlighter-rouge">public</code></td>
      <td><code class="highlighter-rouge">private</code></td>
      <td>Use <code class="highlighter-rouge">getType()</code> and <code class="highlighter-rouge">setType()</code> instead</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">TableSection::$type</code></td>
      <td><code class="highlighter-rouge">public</code></td>
      <td><code class="highlighter-rouge">private</code></td>
      <td>Use <code class="highlighter-rouge">getType()</code> instead</td>
    </tr>
  </tbody>
</table>

<h2 id="new-approach-to-the-referenceparser">New approach to the <code class="highlighter-rouge">ReferenceParser</code></h2>

<p>The <code class="highlighter-rouge">ReferenceParser</code> class in 1.x worked on complete paragraphs of text.  This has been changed in 2.x to work in a more-gradual fashion, where parsing is done on-the-fly as new lines are added.
Whereas you may have previously called <code class="highlighter-rouge">parse()</code> on a <code class="highlighter-rouge">Cursor</code> once on something containing multiple lines, you should now call <code class="highlighter-rouge">parse()</code> on each line of text and then later call <code class="highlighter-rouge">getReferences()</code>
to check what has been parsed.</p>

<h2 id="html5entities-utility-class-removed"><code class="highlighter-rouge">Html5Entities</code> utility class removed</h2>

<p>Use the <code class="highlighter-rouge">Html5EntityDecoder</code> utility class instead.</p>

<h2 id="bincommonmark-command"><code class="highlighter-rouge">bin/commonmark</code> command</h2>

<p>This command was buggy to test and was relatively unpopular, so it has been removed. If you need this type of functionality, consider writing your own script with a Converter/Environment configured exactly how you want it.</p>

<h2 id="commonmarkconverterversion-constant"><code class="highlighter-rouge">CommonMarkConverter::VERSION</code> constant</h2>

<p>This previously-deprecated constant was removed in 2.0 Use <code class="highlighter-rouge">\Composer\InstalledVersions</code> provided by composer-runtime-api instead.</p>

<h2 id="headingpermalinkrendererdefault_inner_contents-constant"><code class="highlighter-rouge">HeadingPermalinkRenderer::DEFAULT_INNER_CONTENTS</code> constant</h2>

<p>This previously-deprecated constant was removed in 2.0. Use <code class="highlighter-rouge">HeadingPermalinkRenderer::DEFAULT_SYMBOL</code> instead.</p>

<h2 id="heading_permalinkinner_contents-configuration-option"><code class="highlighter-rouge">heading_permalink/inner_contents</code> configuration option</h2>

<p>This previously-deprecated configuration option was removed in 2.0. Use <code class="highlighter-rouge">heading_permalink/symbol</code> instead.</p>

<h2 id="arraycollection-methods"><code class="highlighter-rouge">ArrayCollection</code> methods</h2>

<p>Several methods were removed from this class - here are the methods along with possible alternatives you can switch to:</p>

<table>
  <thead>
    <tr>
      <th>Removed Method Name</th>
      <th>Alternative</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">add($value)</code></td>
      <td><code class="highlighter-rouge">$collection[] = $value</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">set($key, $value)</code></td>
      <td><code class="highlighter-rouge">$collection[$key] = $value</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">get($key)</code></td>
      <td><code class="highlighter-rouge">$collection[$key]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">remove($key)</code></td>
      <td><code class="highlighter-rouge">unset($collection[$key])</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">isEmpty()</code></td>
      <td><code class="highlighter-rouge">count($collection) === 0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">contains($value)</code></td>
      <td><code class="highlighter-rouge">in_array($value, $collection-&gt;toArray(), true)</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">indexOf($value)</code></td>
      <td><code class="highlighter-rouge">array_search($value, $collection-&gt;toArray(), true)</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">containsKey($key)</code></td>
      <td><code class="highlighter-rouge">isset($collection[$key])</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">replaceWith()</code></td>
      <td>(none provided)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">removeGaps()</code></td>
      <td>(none provided)</td>
    </tr>
  </tbody>
</table>

<h2 id="unused-methods">Unused methods</h2>

<p>The following unused methods have been removed:</p>

<ul>
  <li><code class="highlighter-rouge">Delimiter::setCanClose()</code></li>
</ul>

    </article>

    <aside class="support-banner-wrapper" x-data="{ show: false }" x-show.transition="show" x-init="h = localStorage.getItem('hideBanner'); (h === null || h < (new Date().getTime())) ? (setTimeout(() => show = true, 500)) : (show = false)">
        <div class="support-banner">
            <p class="support-banner-left">
                <strong>Love PHP Commonmark?</strong>
                <span class="hidden sm:inline-block lg:hidden">
                    Show your support!
                </span>

                <span class="hidden lg:inline-block">
                    Support development via monthly sponsorship or a one-time donation!
                </span>
            </p>

            <div class="support-banner-right">
                <a href="https://github.com/sponsors/colinodell" class="support-button support-button-sponsor">
                    <i class="fas fa-heart fa-fw" aria-hidden="true"></i> Sponsor
                </a>

                <a href="https://www.paypal.me/colinpodell/10.00" class="support-button support-button-donate">
                    <i class="fas fa-donate fa-fw" aria-hidden="true"></i> Donate
                </a>
            </div>

            <button x-on:click="localStorage.setItem('hideBanner', new Date().getTime() + (7*24*60*60*1000)); show = false" class="support-banner-close">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
    </aside>
</main>

<footer>
    <span>&copy; Copyright <a href="https://www.colinodell.com">Colin O'Dell</a> &amp; <a href="//thephpleague.com">The League of Extraordinary Packages</a>.</span>
    <span>Site design by <a href="//reinink.ca">Jonathan Reinink</a> and <a href="//nyamsprod.com">Ignace Nyamagana Butera</a>.</span>
</footer>
<script src="/custom.js?53d99fafeab948b56c834345c1d3aa6b4bc905f3"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
<script> docsearch({
    apiKey: '8f6d6eb939fe0df83616a0bb240332c8',
    indexName: 'commonmark-thephpleague',
    inputSelector: '#doc-search',
    algoliaOptions: { 'facetFilters': ["version:2.0"] },
    debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
